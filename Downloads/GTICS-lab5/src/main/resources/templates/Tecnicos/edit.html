<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
          crossorigin="anonymous">
    <title>Editar Empleado</title>
</head>
<body>

<div style="padding-bottom: 15px;" class="container">
    <div style="text-align: center;"><h2>Editar</h2></div>
    <form method="post" th:action="@{/empleados/guardar}">
        <input type="hidden" th:value="*{employee.employeeId}" name="employeeId">

        <div class="row">
            <div class="form-group col-6">
                <label for="nombre">Nombre</label>
                <input id= "nombre" type="text" class="form-control"  name="firstName" th:value="*{employee.firstName}">
            </div>
            <div class="form-group col-6">
                <label for="apellido">Apellido</label>
                <input id= "apellido" type="text" class="form-control"  name="lastName" th:value="*{employee.lastName}">
            </div>
        </div>

        <div class="form-group">
            <label for="correo">Correo electr√≥nico</label>
            <input id= "correo" type="text" class="form-control"  name="email" th:value="*{employee.email}">
        </div>

        <div class="row">
            <div class="form-group col-6">
                <label for="puesto">Puesto</label>

                <select  id="puesto" name="idJob" class="form-select" >
                    <option th:each="job : ${listaJobs}"
                            th:value="${job.jobId}"
                            th:text="${job.jobTitle}"
                            th:selected="${job.jobId== employee.jobs.jobId}"></option>
                </select>
            </div>
            <div class="form-group col-6">
                <label for="sueldo">Sueldo</label>
                <input id= "sueldo" type="text" class="form-control"  name="salary" th:value="*{employee.salary}">
            </div>
        </div>

        <div class="row">
            <div class="form-group col-6">
                <label for="jefe">Jefe</label>
                <select  id="jefe" name="idManager" class="form-select" >
                    <option th:each="jefe : ${listaJefes}"
                            th:value="${jefe.employeeId}"
                            th:text="${jefe.firstName} + ' ' + ${jefe.lastName}"
                            th:selected="${jefe.employeeId== employee.manager.employeeId}"></option>
                </select>
            </div>
            <div class="form-group col-6">
                <label for="departamento">Departamento</label>
                <select  id="departamento" name="idDep" class="form-select" >
                    <option th:each="dep : ${listaDep}"
                            th:value="${dep.departmentId}"
                            th:text="${dep.departmentName}"
                            th:selected="${dep.departmentId== employee.departments.departmentId}"></option>
                </select>
            </div>
        </div>


        <button type="submit" class="btn btn-primary">Guardar</button>
        <a th:href="@{/empleados}" class="btn btn-danger">Cancelar</a>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
        crossorigin="anonymous"></script>
</body>
</html>